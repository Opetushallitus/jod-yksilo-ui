#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run only when switching branches (not when checking out files)
# $3 = 1 for branch checkout, 0 for file checkout
if [ "$3" = "1" ]; then
  CURRENT_BRANCH=$(git rev-parse --abbrev-ref HEAD)
  
  # Skip if we're on main branch
  if [ "$CURRENT_BRANCH" != "main" ]; then
    echo "ðŸ“¦ Branch changed to $CURRENT_BRANCH, fetching latest translations..."
    npm run translations:fetch || (echo '\n (âŠ™ï¼¿âŠ™) Fetching translations failed!\n'; false)
  fi
fi
